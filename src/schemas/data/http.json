{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://schemas.querymonitor.com/src/schemas/data/http.json",
	"title": "HTTP",
	"description": "HTTP data transfer object.",
	"type": "object",
	"required": [
		"http",
		"ltime",
		"errors"
	],
	"properties": {
		"http": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"args": {
						"type": "object",
						"properties": {
							"method": {
								"type": "string"
							},
							"timeout": {
								"type": "number"
							},
							"redirection": {
								"type": "integer"
							},
							"blocking": {
								"type": "boolean"
							},
							"sslverify": {
								"type": "boolean"
							}
						},
						"required": [
							"timeout",
							"method"
						]
					},
					"trace": {
						"type": "object",
						"phpType": "QM_Backtrace",
						"allOf": [
							{
								"$ref": "../backtrace.json"
							}
						]
					},
					"info": {
						"type": [
							"object",
							"null"
						],
						"phpType": "array<string, mixed>|null"
					},
					"host": {
						"type": "string"
					},
					"local": {
						"type": "boolean"
					},
					"ltime": {
						"type": "number"
					},
					"redirected_to": {
						"type": [
							"string",
							"null"
						]
					},
					"response": {
						"oneOf": [
							{
								"type": "object",
								"properties": {
									"headers": {
										"type": "object"
									},
									"body": {
										"type": "string"
									},
									"response": {
										"type": "object",
										"properties": {
											"code": {
												"type": "integer"
											},
											"message": {
												"type": "string"
											}
										},
										"required": [
											"code",
											"message"
										],
										"additionalProperties": false
									},
									"cookies": {
										"type": "array",
										"items": {
											"type": "object",
											"phpType": "WP_HTTP_Cookie"
										}
									},
									"filename": {
										"type": [
											"string",
											"null"
										]
									},
									"http_response": {
										"type": "object",
										"phpType": "WP_HTTP_Requests_Response"
									}
								},
								"required": [
									"headers",
									"body",
									"response",
									"cookies",
									"filename",
									"http_response"
								],
								"additionalProperties": false
							},
							{
								"type": "object",
								"tsType": "WP_Error",
								"phpType": "WP_Error",
								"allOf": [
									{
										"$ref": "../../../node_modules/wp-json-schemas/schemas/error.json"
									}
								]
							}
						]
					},
					"type": {
						"type": "string"
					},
					"url": {
						"type": "string"
					}
				},
				"required": [
					"args",
					"trace",
					"host",
					"info",
					"local",
					"ltime",
					"redirected_to",
					"response",
					"type",
					"url"
				],
				"additionalProperties": false
			}
		},
		"ltime": {
			"@todo": "remove",
			"type": "number"
		},
		"errors": {
			"type": "object",
			"properties": {
				"alert": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"warning": {
					"type": "array",
					"items": {
						"type": "string"
					}
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}
